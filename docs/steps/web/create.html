<h1>Creating first ASP.Net Core application</h1>

<p>We could create a Web Application starting with "dotnet new" like before and, then, add the bits and pieces for the web side
    of things. That sure would be fun. But, since we have everything installed we need, we might as well use the tools at
    hand, namely, <a href="https://www.npmjs.com/" target="_blank">npm</a> and <a href="http://yeoman.io/" target="_blank">Yeoman</a>.
    Yeoman is, in essence, a template provider. Remember: we are in cross-platform territory and everything here is the same
    for all platforms. Here we go:</p>
<ol>
    <li>
        <h4>Install Yeoman</h4>
        <p>In the CLI, run:</p>
        <pre><code class="language-bash">$ npm install -g yo</code></pre>
        <p>"-g" or "--global" means that "yo" will be installed globally on the machine and not at folder/project level. As
            we will be using it again (and it is quite a global thing), we'll install it globally. (Maybe, one of these days,
            I'll do an npm series, but not today).</p>
        <p>As this means writing in "important" folders, you might run into permission issues on Linux and Mac OS X. If that
            is the case, prefix the command with "sudo " and provide the administrator password on request:</p>
        <pre><code class="language-bash">$ sudo npm install -g yo</code></pre>
        <p>Anyways, the output should look like this:</p>
        <pre>
npm WARN deprecated cross-spawn-async@2.2.4: cross-spawn no longer requires a build toolchain, use it instead!
npm WARN deprecated npmconf@2.1.2: this package has been reintegrated into npm and is now out of date with respect to npm
/usr/local/bin/yo -> /usr/local/lib/node_modules/yo/lib/cli.js
/usr/local/bin/yo-complete -> /usr/local/lib/node_modules/yo/lib/completion/index.js
> yo@1.8.3 postinstall /usr/local/lib/node_modules/yo
> yodoctor
Yeoman Doctor
Running sanity checks on your system
✔ Global configuration file is valid
✔ NODE_PATH matches the npm root
✔ Node.js version
✔ No .bowerrc file in home directory
✔ No .yo-rc.json file in home directory
✖ npm version
Your npm version is outdated.
Upgrade to the latest version by running:
npm install -g npm
Found potential issues on your machine :(
yo@1.8.3 /usr/local/lib/node_modules/yo
├── cli-list@0.1.8
├── titleize@1.0.0
├── async@1.5.2
├── humanize-string@1.0.1 (decamelize@1.2.0)
├── opn@3.0.3 (object-assign@4.1.0)
├── user-home@2.0.0 (os-homedir@1.0.1)
├── figures@1.7.0 (escape-string-regexp@1.0.5, object-assign@4.1.0)
├── string-length@1.0.1 (strip-ansi@3.0.1)
├── chalk@1.1.3 (escape-string-regexp@1.0.5, supports-color@2.0.0, ansi-styles@2.2.1, strip-ansi@3.0.1, has-ansi@2.0.0)
├── repeating@2.0.1 (is-finite@1.0.1)
├── sort-on@1.3.0 (arrify@1.0.1, dot-prop@2.4.0)
├── root-check@1.0.0 (downgrade-root@1.1.0, sudo-block@1.2.0)
├── yeoman-character@1.1.0 (supports-color@3.1.2)
├── yosay@1.1.1 (ansi-regex@2.0.0, ansi-styles@2.2.1, strip-ansi@3.0.1, wrap-ansi@2.0.0, pad-component@0.0.1, taketalk@1.0.0, string-width@1.0.1)
├── parse-help@0.1.1 (execall@1.0.0)
├── cross-spawn-async@2.2.4 (lru-cache@4.0.1, which@1.2.9)
├── package-json@2.3.2 (registry-url@3.1.0, semver@5.1.0, rc@1.1.6)
├── got@5.6.0 (lowercase-keys@1.0.0, timed-out@2.0.0, is-redirect@1.0.0, is-retry-allowed@1.0.0, is-plain-obj@1.1.0, is-stream@1.1.0, node-status-codes@1.0.0, read-all-stream@3.1.0, duplexer2@0.1.4, unzip-response@1.0.0, object-assign@4.1.0, pinkie-promise@2.0.1, create-error-class@3.0.2, url-parse-lax@1.0.0, readable-stream@2.1.4, parse-json@2.2.0)
├── configstore@1.4.0 (os-tmpdir@1.0.1, object-assign@4.1.0, graceful-fs@4.1.4, xdg-basedir@2.0.0, uuid@2.0.2, osenv@0.1.3, write-file-atomic@1.1.4, mkdirp@0.5.1)
├── npm-keyword@4.2.0 (object-assign@4.1.0, pinkie-promise@2.0.1, registry-url@3.1.0)
├── update-notifier@0.6.3 (is-npm@1.0.0, latest-version@2.0.0, semver-diff@2.1.0, boxen@0.3.1, configstore@2.0.0)
├── inquirer@0.11.4 (strip-ansi@3.0.1, ansi-regex@2.0.0, ansi-escapes@1.4.0, rx-lite@3.1.2, through@2.3.8, cli-width@1.1.1, string-width@1.0.1, readline2@1.0.1, cli-cursor@1.0.2, run-async@0.1.0)
├── fullname@2.1.0 (pify@2.3.0, pinkie-promise@2.0.1, npmconf@2.1.2)
├── meow@3.7.0 (map-obj@1.0.1, trim-newlines@1.0.0, object-assign@4.1.0, decamelize@1.2.0, minimist@1.2.0, camelcase-keys@2.1.0, redent@1.0.0, loud-rejection@1.3.0, normalize-package-data@2.3.5)
├── read-pkg-up@1.0.1 (find-up@1.1.2, read-pkg@1.1.0)
├── yeoman-doctor@2.1.0 (log-symbols@1.0.2, object-values@1.0.0, semver@5.1.0, each-async@1.1.1, bin-version-check@2.1.0, twig@0.8.9)
├── insight@0.7.0 (object-assign@4.1.0, tough-cookie@2.2.2, lodash.debounce@3.1.1, os-name@1.0.3, inquirer@0.10.1, request@2.72.0)
├── lodash@3.10.1
├── yeoman-environment@1.6.1 (escape-string-regexp@1.0.5, log-symbols@1.0.2, text-table@0.2.0, untildify@2.1.0, debug@2.2.0, diff@2.2.2, globby@4.1.0, mem-fs@1.1.3, grouped-queue@0.3.2, inquirer@1.0.3, lodash@4.13.1)
└── tabtab@1.3.2 (object-assign@4.1.0, minimist@1.2.0, debug@2.2.0, mkdirp@0.5.1, npmlog@2.0.4, inquirer@1.0.3)
              </pre>
        <p>I, usually run just "yo" without parameters once because, the first time "yo" is called, this message shows (it's
            your choice):</p>
        <pre>
? ==========================================================================
We're constantly looking for ways to make yo better!
May we anonymously report usage statistics to improve the tool over time?
More info: https://github.com/yeoman/insight & http://yeoman.io
========================================================================== (Y/n)
              </pre>
    </li>

    <li>
        <h4>Install AspMet Template Generator</h4>
        <p>Still in the CLI:</p>
        <pre><code class="language-bash">$ npm install -g generator-aspnet</code></pre>
        <p>That should produce an output like this:</p>
        <pre>
generator-aspnet@0.1.0 /usr/local/lib/node_modules/generator-aspnet
├── vs_projectname@1.0.2
├── uuid@2.0.2
├── chalk@1.1.3 (escape-string-regexp@1.0.5, supports-color@2.0.0, ansi-styles@2.2.1, strip-ansi@3.0.1, has-ansi@2.0.0)
├── mkdirp@0.5.1 (minimist@0.0.8)
├── yosay@1.1.1 (ansi-regex@2.0.0, strip-ansi@3.0.1, wrap-ansi@2.0.0, ansi-styles@2.2.1, pad-component@0.0.1, taketalk@1.0.0, repeating@2.0.1, string-width@1.0.1)
├── findup-sync@0.3.0 (glob@5.0.15)
├── chai@3.5.0 (assertion-error@1.0.1, type-detect@1.0.0, deep-eql@0.1.3)
├── nconf@0.8.4 (ini@1.3.4, secure-keys@1.0.0, async@1.5.2, yargs@3.32.0)
└── yeoman-generator@0.19.2 (detect-conflict@1.0.0, read-chunk@1.0.1, diff@1.4.0, yeoman-welcome@1.0.1, xdg-basedir@1.0.1, user-home@1.1.1, async@0.9.2, mime@1.3.4, text-table@0.2.0, dargs@4.1.0, class-extend@0.1.2, debug@2.2.0, nopt@3.0.6, istextorbinary@1.0.2, cross-spawn@0.2.9, run-async@0.1.0, shelljs@0.4.0, cli-table@0.3.1, glob@5.0.15, through2@0.6.5, mem-fs-editor@1.2.3, yeoman-assert@1.0.0, rimraf@2.5.2, findup-sync@0.2.1, github-username@1.1.1, underscore.string@3.3.4, pretty-bytes@1.0.4, dateformat@1.0.12, sinon@1.17.4, html-wiring@1.2.0, download@4.4.3, lodash@3.10.1, inquirer@0.8.5, yeoman-environment@1.6.1, gruntfile-editor@1.2.0)
              </pre>
    </li>

    <li>
        <h4>Create the Web Aplication</h4>
        <p>Now that we have Yeoman and ASP.Net (template) Generator, we can create a web application</p>
        <ol type="I">
            <li>
                <p>In the CLI:</p>
                <pre><code class="language-bash">$ yo aspnet</code></pre>
                <!-- test first run without parameters to answer the prompt for data usage -->
                <p>This should output something like this:</p>
                <pre>
    _-----_===========================
    |       |    .--------------------------.
    |--(o)--|    |      Welcome to the      |
  `---------´   |  marvellous ASP.NET Core |
    ( _´U`_ )    |      1.0 generator!      |
    /___A___\    '--------------------------'
    |  ~  |     
  __'.___.'__   
´   `  |° ´ Y ` 
? What type of application do you want to create? (Use arrow keys)
❯ Empty Web Application 
  Console Application 
  Web Application 
  Web Application Basic [without Membership and Authorization] 
  Web API Application 
  Nancy ASP.NET Application 
  Class Library 
  Unit test project (xUnit.net) 
                  </pre>
            </li>
            <li>
                <p>User the cursor keys to select option. Select "Empty Web Application" and press ENTER.</p>
            </li>
            <li>
                <p>Enter the name of the application (this will also be the name of the folder that will be created to hold
                    the web application):</p>
                <pre>? What's the name of your ASP.NET application? (EmptyWebApplication)</pre>
                <p>Values in (parentesis) are defaults that you can just ENTER to ocntinue without changing</p>

                <p>This outputs the log of the creation of the files:</p>
                <pre>
   create firstwebapplication/.gitignore
   create firstwebapplication/Program.cs
   create firstwebapplication/Startup.cs
   create firstwebapplication/project.json
   create firstwebapplication/web.config
   create firstwebapplication/Dockerfile
   create firstwebapplication/Properties/launchSettings.json
   create firstwebapplication/README.md
Your project is now created, you can use the following commands to get going
    cd "firstwebapplication"
    dotnet restore
    dotnet build (optional, build will also happen when it's run)
    dotnet run</pre>
                <p><b>TODO: Analyse files created</b></p>
                <p>And also instructions on how to build and run the application which is very similar to the first console
                    app created before. Let's follow the instructions...</p>
            </li>

            <li>
                <p>Nativate to the folder</p>
                <pre><code class="language-bash">$ cd firstwebapplication</code></pre>
            </li>
            <li>
                <p>Restore .Net packages</p>
                <pre><code class="language-bash">$ dotnet restore</code></pre>
                <p>That has a long output like before that you can check <a href="firstdotnetwebrestoredump.txt" target="_blank">here.</a></p>
            </li>
            <li>
                <p>Run the applicaiton</p>
                <pre><code class="language-bash">$ dotnet run</code></pre>
                <p>The output is quite suggestive:</p>
                <pre>
roject firstwebapplication (.NETCoreApp,Version=v1.0) will be compiled because expected outputs are missing
Compiling firstwebapplication for .NETCoreApp,Version=v1.0
Compilation succeeded.
    0 Warning(s)
    0 Error(s)
Time elapsed 00:00:05.3633156
 
Hosting environment: Production
Content root path: /Users/bigsby/dotcore/firstwebapplication
Now listening on: http://localhost:5000
Application started. Press Ctrl+C to shut down.
                  </pre>
            </li>
            <li>
                <p>Test the applicaiton buy opening the provided URL in the browser <a href="http://localhost:5000">http://localhost:5000</a></p>
                <p>It should display:</p>
                <pre>Hello World!</pre>
            </li>
        </ol>
    </li>
</ol>
<!--<a href="../index.html#debugAspNetCore">
    <h3>Next -> Open and debug Web Application in VS Code</h3>
</a>-->